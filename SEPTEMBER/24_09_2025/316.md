## Remove Duplicate Letters
**Understand**
We are given a string and asked to remove all duplicates in the string (make the resulting string contain the unique letters in the string). There are various formats this could be gotten but the catch is that it must be returned in the smallest lexicographically of all possible results.

**Example**
```
s = "cbacdcbd"
ans = "cbac", "bacd", "acdb", "adcb", ... are all possible results
but the required result is 
ans = "acdb"
```

**Match**
- We want to maintain a sorted order of a subsequence as we traverse the string and the data structure suitable for that is a *Monotonic stack*, so we know whether to add or not. 
- Another catch for adding is that if at any current index we can't get another of the character and we also do not yet have that character (we must by all means pick that character - all unique strings must be gotten)
 To achieve this we would need an hashmap to store the last occurence of each string and compare with the current index.


**Plan**
- generate a mapping of the last occurences of each character
- initialize a stack
- iterate over the string
- maintain the stack as monotonic with lexicographically increasing characters but with an exception of no more characters of that type left in the string (this is done by comparing the current index with the last occurence of the string)
- return the joined stack

*For Time Optimization*
- Use a set along with the stack and for any pop, remove for the stack. This ensures O(1) lookup

**Implement**
```py
class Solution:
    def removeDuplicateLetters(self, s: str) -> str:
        last_occurence = defaultdict(int)
        for i in range(len(s)):
            last_occurence[s[i]] = i

        stack = []
        seen = set()
        for i in range(len(s)):
            c = s[i]
            if c in seen:
                continue
            while stack and stack[-1] > c and i < last_occurence[stack[-1]]:
                seen.remove(stack.pop())
            stack.append(c)
            seen.add(c)
        return "".join(stack)
```


**Review**
- Monotonic stack maintains lexicographical order property by comparing string ascii values.
- Correctly catches characters with single occurences or last occurence using hash map.
- Set improves the time complexity to O(N) with space at O(2N) -> O(N)

**Evaluate**
- Time Complexity - O(N) stack is capped at the size of the output and we don't count that.
- Space Complexity - O(1).