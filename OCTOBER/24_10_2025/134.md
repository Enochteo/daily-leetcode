## Gas Station

**Understand**

You are given two integer arrays:

gas[i] — the amount of gas available at station i

cost[i] — the gas cost to travel from station i to (i + 1)

You have a car with an unlimited gas tank.
You start with 0 gas at some station and can move only clockwise.

Find the starting station index from which you can travel around the circuit once and return to the same station.
If it’s not possible, return -1.

**Example**:

Input: gas = [1,2,3,4,5], cost = [3,4,5,1,2]
Output: 3
Explanation:
Start at station 3:

- tank = 0 + (4 - 1) = 3
- tank = 3 + (5 - 2) = 6
- tank = 6 + (1 - 3) = 4
- tank = 4 + (2 - 4) = 2
- tank = 2 + (3 - 5) = 0 (successfully returns)

Input: gas = [2,3,4], cost = [3,4,3]
Output: -1

**Match**

This is a greedy problem.
We want to find a valid starting index that allows completing the full circuit.

Observation:

If the total gas < total cost, no valid solution exists.

If total gas ≥ total cost, there must be at least one valid start.

Whenever your running tank becomes negative, any station before that cannot be the valid start — restart from the next one.

**Plan**

Check if total gas is less than total cost — if so, return -1.

Initialize:

tank = 0 → current remaining fuel

start = 0 → current candidate starting station

Traverse through all stations:

Add current station’s net gain: tank += gas[i] - cost[i]

If tank < 0, it means you can’t reach the next station:

Set start = i + 1

Reset tank = 0 (start fresh from next station)

After the loop, return start.

**Implement**

```py
class Solution(object):
    def canCompleteCircuit(self, gas, cost):
        """
        :type gas: List[int]
        :type cost: List[int]
        :rtype: int
        """
        if sum(cost) > sum(gas):
            return -1
        tank = 0
        start = 0
        for i in range(len(gas)):
            tank += gas[i] - cost[i]
            if tank < 0:
                start = i + 1
                tank = 0
        return start
```

**Review**

Ensures global feasibility by checking total gas ≥ total cost.

Uses greedy logic to skip invalid starting positions efficiently.

Single-pass algorithm guarantees O(n) runtime and constant space.

**Evaluate**

Time Complexity: O(n) — one pass through the array.

Space Complexity: O(1) — only constant extra variables used.

**Pattern to remember**

For circular traversal / feasibility problems:

Use prefix sum or greedy logic to identify reset points.

If local sum < 0, restart from the next index — previous cannot work.

Often used in circular array, battery charge, or water tank problems.
