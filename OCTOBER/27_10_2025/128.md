## Longest Consecutive Sequence

**Understand**

You are given an unsorted array of integers nums.
Return the length of the longest consecutive elements sequence.

The solution must run in O(n) time.

Example 1:

Input: nums = [100, 4, 200, 1, 3, 2]
Output: 4
Explanation: The longest sequence is [1, 2, 3, 4].

Example 2:

Input: nums = [0,3,7,2,5,8,4,6,0,1]
Output: 9

**Match**

We need a way to find consecutive numbers efficiently without sorting.
Sorting would be O(n log n), so instead use a hash set for O(1) lookups.

Pattern:

Convert to a set for constant-time membership checks.

Only start counting when num - 1 is not in the set → ensures each sequence is counted once.

Expand forward (num + 1, num + 2, …) until the sequence breaks.

**Plan**

Convert nums into a set for O(1) lookup.

Initialize max_lcs = 0.

For each number num in the set:

Skip if num - 1 exists (it means it’s not the start of a sequence).

Otherwise, count forward while num + length exists.

Update max_lcs with the length of that sequence.

Return max_lcs.

**Implement**

```py
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        numSet = set(nums)
        max_lcs = 0
        for num in numSet:
            if num - 1 in numSet:
                continue
            start = num
            lcs = 0
            while start in numSet:
                lcs += 1
                start += 1
            max_lcs = max(max_lcs, lcs)
        return max_lcs
```

**Review**

Avoids sorting → O(n)
Uses hash set for O(1) membership checks
Counts only at sequence starts, eliminating redundant work

**Evaluate**

Time Complexity: O(n) – each number is visited at most twice.

Space Complexity: O(n) – hash set storage for all elements.

**Pattern to Remember**

This is the “sequence start detection” pattern:

Use a set for fast lookups.

Only begin counting when num - 1 is missing.

Works for consecutive ranges, linked values, or intervals.
