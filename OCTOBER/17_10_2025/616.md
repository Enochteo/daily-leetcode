## Add Bold Tag in String

**Understand**

You are given a string s and a list of words words.
You need to insert the tag <b> and </b> around every substring in s that appears in words.
If multiple bold ranges overlap or are adjacent, merge them into a single <b>...</b> block.

Example:

Input: s = "abcxyz123", words = ["abc","123"]
Output: "<b>abc</b>xyz<b>123</b>"

Input: s = "aaabbcc", words = ["aaa","aab","bc"]
Output: "<b>aaabbc</b>c"

**Match**

This is a string processing problem that combines pattern matching with interval merging.
A Trie structure is efficient for checking substrings starting from each index of s.
Once we mark all matching indices as bold, we can build the final string by inserting tags accordingly.

**Plan**

Build a Trie from the words in words.

Create a bold array of size len(s) marking which indices should be bolded.

For each starting index i in s:

Traverse the Trie while characters match.

If a word ends (EoW=True), mark indices from i to that position as bold.

After traversal, iterate through s:

Add <b> when entering a bold region.

Add </b> when leaving a bold region.

Return the constructed string.

**Implement**

```py
class Trie():
    def __init__(self):
        self.root = TrieNode()

    def addWord(self, word):
        node = self.root
        for c in word:
            if c not in node.children:
                node.children[c] = TrieNode()
            node = node.children[c]
        node.EoW = True

class TrieNode():
    def __init__(self):
        self.children = {}
        self.EoW = False

    def __repr__(self):
        res = ''
        for c in self.children:
            res += c
        return res

class Solution(object):
    def addBoldTag(self, s, words):
        trie = Trie()
        for word in words:
            trie.addWord(word)
        bold = [False] * len(s)

        for i in range(len(s)):
            node = trie.root
            end = -1
            j = i
            while j < len(s) and s[j] in node.children:
                node = node.children[s[j]]
                if node.EoW:
                    end = j + 1
                j += 1
            if end != -1:
                for k in range(i, end):
                    bold[k] = True

        output = []
        for i in range(len(s)):
            if bold[i] and (i == 0 or not bold[i - 1]):
                output.append('<b>')
            output.append(s[i])
            if bold[i] and (i == len(s) - 1 or not bold[i + 1]):
                output.append('</b>')
        return ''.join(output)
```
