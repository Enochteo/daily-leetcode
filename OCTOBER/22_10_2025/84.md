## Largest Rectangle in Histogram

**Understand**

You are given an array heights representing the heights of bars in a histogram.
Each bar has a width of 1.
Return the area of the largest rectangle that can be formed within the histogram.

Example:

Input: heights = [2,1,5,6,2,3]
Output: 10
Explanation: The rectangle of height 5 and 6 gives the max area = 5 \* 2 = 10.

Input: heights = [2,4]
Output: 4

**Match**

This is a monotonic stack problem â€” a classic pattern for efficiently finding areas in histograms.
We use a stack to keep track of increasing bar heights.
When a smaller bar is encountered, we pop from the stack and calculate the possible rectangle area for the popped bar.

**Plan**

Initialize max_area = 0 and an empty stack to store pairs (height, start_index).

Traverse through each bar i:

Let start = i.

While stack not empty and top bar height > current height:

Pop (height, index) from the stack.

Compute area = height \* (i - index) and update max_area.

Update start = index (since the popped height extended back to this index).

Push (heights[i], start) to stack.

After processing all bars, clear the stack:

For each remaining (height, index), compute height \* (len(heights) - index) and update max_area.

Return max_area.

**Implement**

```py
class Solution:
    def largestRectangleArea(self, heights: List[int]) -> int:
        max_area = 0
        stack = []
        for i in range(len(heights)):
            start = i
            while stack and stack[-1][0] > heights[i]:
                height, index = stack.pop()
                max_area = max(max_area, (i - index) * height)
                start = index
            stack.append((heights[i], start))
        for height, index in stack:
            max_area = max(max_area, (len(heights) - index) * height)
        return max_area
```
