## Insert Delete GetRandom O(1)

**Understand**

Design a data structure that supports insert, delete, and getRandom in average O(1) time.

Required methods:

insert(val) → Inserts an item. Returns True if the item was not present, else False.

remove(val) → Removes an item. Returns True if the item was present, else False.

getRandom() → Returns a random element with equal probability.

**Match**

This is a data structure design problem requiring constant-time operations.

To achieve O(1):

Use a hash map (positions) to store the index of each element in a list.

Use a dynamic array (store) to support fast random access.

Key Idea:

On deletion, swap the element to remove with the last element, pop it, and update indices — avoids O(n) shifts.

getRandom() just returns a random index in the array.

**Plan**

Insert(val):

If already exists in positions, return False.

Append to store and record its index in positions.

Return True.

Remove(val):

If not in positions, return False.

Swap the target element with the last one in store.

Pop the last element.

Update indices in positions and delete removed value.

Return True.

getRandom():

Generate random index between 0 and len(store) - 1.

Return store[rand_index].
