## First Unique Character in a String

**Understand**

We are given a string s and need to return the index of the first non-repeating character.
If all characters repeat, return -1.

Examples:

Input: s = "leetcode"
Output: 0 # 'l' appears once and first

Input: s = "loveleetcode"
Output: 2 # 'v' is the first unique

Input: s = "aabb"
Output: -1 # no unique character

Goal:
Efficiently find the first index of a character whose frequency is 1.

**Match**

This problem fits the frequency + order maintenance pattern.
We can use:

A hashmap (dict) to count frequencies, and

A queue (deque) to maintain the order of character appearance.

Why queue?

It allows efficient removal from the front (popleft()),

It naturally represents the order of character arrivals.

This is a Queue + Frequency Map problem pattern.

**Plan**

Initialize:

freq = defaultdict(int) → to store frequency of each character.

q = deque() → to store tuples (index, char) in order.

Iterate through string:

Increment frequency count for each character.

Append (i, char) to the queue.

Clean up queue front:

While queue is not empty and the character at the front has freq > 1,
pop it from the front.

After traversal:

If queue still has elements, return the index at front (q[0][0]).

Else, return -1.

**Implement**

```py
from collections import defaultdict, deque

class Solution:
    def firstUniqChar(self, s: str) -> int:
        freq = defaultdict(int)
        q = deque([])

        for i, c in enumerate(s):
            freq[c] += 1
            q.append((i, c))

        # Remove all characters from the front that repeat
        while q and freq[q[0][1]] > 1:
            q.popleft()

        return q[0][0] if q else -1
```

**Review**

Efficient: Each character is enqueued and dequeued at most once.
Clean: Uses standard data structures (deque, defaultdict).
Readable: Simple logic flow between counting and ordering.

**Evaluate**
Time Complexity O(N) — each character visited and possibly dequeued once
Space Complexity O(26) ≈ O(1) for lowercase letters (O(N) in general case)
Approach Queue + Frequency HashMap
Edge Cases Empty string → -1, all repeating → -1, single unique → correct index

**Pattern to Remember**

This follows the Streaming First Unique Pattern —
When tracking the first unique element in a stream or string, combine:

A frequency map to track occurrences, and

A queue to preserve insertion order for efficient retrieval of the first non-repeating element.
